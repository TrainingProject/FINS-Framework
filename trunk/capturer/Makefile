# fins.mk contains the compiler and linker options for each target platform
include $(FINS_ROOT_DIR)/settings.finsmk

#Name of the module
PROJECT_NAME = capturer

CFLAGS += $(CAPTURER_INC)
OBJS = $(COMMON_OBJS) ethermod.o htoi.o wifistub.o

#This is an autogenerated list of includes used in this project
INCLUDES = $(shell ls $(subst -I,, $(CAPTURER_INC)) | grep \\.h)



#### TARGETS #####
.PHONY:all
all:$(PROJECT_NAME)
	@echo "$(PROJECT_NAME) is compiled\n"

$(PROJECT_NAME):$(OBJS)  
	@$(LD) $(LDFLAGS) $^ -o $@ 

%.o:%.c $(INCLUDES) 
	@$(CC) $(CFLAGS) -c $<

.PHONY:clean
clean:
	@rm -f $(PROJECT_NAME) 
	@rm -f *.o
