# fins.mk contains the compiler and linker options for each target platform
#include ../settings.finsmk

#Name of the module
PROJECT_NAME = wedge

#CFLAGS += $(WEDGE_INC)
#OBJS = FINS_stack_wedge.o

#This is an autogenerated list of includes used in this project
#INCLUDES = $(shell ls $(subst -I,, $(CAPTURER_INC)) | grep \\.h)

obj-m += FINS_stack_wedge.o			# build type hardcoded to module

.PHONY:all
all:$(PROJECT_NAME)
	@echo "$(PROJECT_NAME) is compiled\n"

$(PROJECT_NAME):
	@make -C /lib/modules/$(shell uname -r)/build M=$(PWD) modules

.PHONY:clean
clean:
	@make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean
		
#### TARGETS #####
#.PHONY:all
#all:$(PROJECT_NAME)
#	@echo "$(PROJECT_NAME) is compiled\n"

#$(PROJECT_NAME):$(OBJS)  
#	@$(LD) $(LDFLAGS) $^ -o $@ 

#%.o:%.c $(INCLUDES) 
#	@$(CC) $(CFLAGS) -c $<

#.PHONY:clean
#clean:
#	@rm -f $(PROJECT_NAME) 
#	@rm -f *.o
